"use strict";(self["webpackChunkmentor"]=self["webpackChunkmentor"]||[]).push([[435],{1435:function(e,a,l){l.r(a),l.d(a,{default:function(){return W}});var t=l(3396),s=l(7139),n=l(9242),o=l(4870),u=l(7126);const i={class:"star-rating"},r=["onClick","onMouseover"],c=["value"];var d={__name:"StarRaiting",props:{count:Number},setup(e){const a=e,l=(0,o.iH)(0),n=(0,o.iH)([1,2,3,4,5]);(0,t.YP)((()=>a.count),((e,a)=>{0===e&&(l.value=0)}));const u=e=>{l.value=a.count,l.value=e},d=e=>{l.value=a.count};return(a,o)=>((0,t.wg)(),(0,t.iD)("div",i,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.value,((n,o)=>((0,t.wg)(),(0,t.iD)("label",{class:(0,s.C_)(["star-rating__star",{"is-selected":l.value>=n&&null!=l.value}]),key:o,onClick:e=>a.$emit("update:modelValue",n),onMouseover:e=>u(n),onMouseout:d},[(0,t._)("input",{class:"star-rating star-rating__checkbox",type:"radio",name:"star",value:e.count},null,8,c),(0,t.Uk)("★")],42,r)))),128))]))}},v=l(89);const p=(0,v.Z)(d,[["__scopeId","data-v-60825fc4"]]);var g=p,m=l(6985),w=l(1134),_=l(9342);const f=e=>((0,t.dD)("data-v-4b3ea453"),e=e(),(0,t.Cn)(),e),b={key:1,class:"py-4 flex flex-wrap gap-6"},y={class:"sm:w-1/3 w-full h-auto rounded-xl overflow-hidden self-baseline"},x=["src"],k={class:"flex-1"},h={class:"md:text-4xl text-xl font-semibold"},D={class:"py-4"},H={class:"flex gap-2 flex-wrap"},z={class:"py-4"},C={class:"mb-4"},U={class:"font-medium font-lg"},V={class:"font-normal"},Y={class:"font-medium font-lg"},M={class:"font-normal"},Z=f((()=>(0,t._)("button",{class:"py-4 px-6 bg-slate-700 text-white rounded-lg"}," Оставить заявку ",-1))),K={class:"py-4"},R=f((()=>(0,t._)("h4",{class:"font-medium py-2"},"Обо мне",-1))),S={class:"font-light"},P={class:"py-4"},j=f((()=>(0,t._)("h4",{class:"font-medium py-2"},"Отзывы",-1))),q={key:0},A={class:"font-light py-2"},I={class:"py-4 px-2 bg-white rounded-xl my-4"},N=["onSubmit"],O={key:0,class:"loader block ml-3"};var F={__name:"ProfileView",setup(e){const a=(0,o.iH)(!1),l=(0,o.iH)(null),i=(0,o.qj)({message:"",rating:0});(0,t.YP)(l,((e,a)=>{console.log(e,a)})),(0,t.bv)((async()=>{c()}));const r=(0,t.Fl)((()=>e=>e.map((e=>JSON.parse(e))))),c=async()=>{const{params:e}=_["default"].currentRoute.value,a=await m.Z.getOneMentors(e.id),t=await w.Z.getAvatar(a[0].avatar);l.value={...a[0],avatar:t}},d=()=>{const{params:e}=_["default"].currentRoute.value;a.value=!0,Api.createReview(e.id,i).then((()=>{c(e.id).then((()=>{a.value=!1})),i.message="",i.rating=0}))};return(e,o)=>l.value?((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("div",y,[(0,t._)("img",{class:"w-full h-auto",src:l.value.avatar,alt:"avatar"},null,8,x)]),(0,t._)("div",k,[(0,t._)("h1",h,(0,s.zw)(l.value.fullname),1),(0,t._)("div",D,[(0,t._)("ul",H,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.value.tags,((e,a)=>((0,t.wg)(),(0,t.iD)("li",{class:"py-1 px-4 text-xs bg-slate-300 text-slate-700 rounded-full inline-block select-none",key:a},(0,s.zw)(e),1)))),128))])]),(0,t._)("div",z,[(0,t._)("ul",C,[(0,t._)("li",U,[(0,t.Uk)(" Опыт: "),(0,t._)("span",V,(0,s.zw)(l.value.experience)+" лет",1)]),(0,t._)("li",Y,[(0,t.Uk)(" Цена (за час): "),(0,t._)("span",M,(0,s.zw)(l.value.price),1)])]),Z]),(0,t._)("div",K,[R,(0,t._)("p",S,(0,s.zw)(l.value.about),1)]),(0,t._)("div",P,[j,(0,t._)("ul",null,[l.value.reviews?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(r.value(l.value.reviews),((e,a)=>((0,t.wg)(),(0,t.iD)("li",{key:a,class:"bg-white rounded-xl p-2 last:mb-10 [&:not(:last-child)]:mb-4"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rating,((e,a)=>((0,t.wg)(),(0,t.iD)("i",{class:"material-icons star text-yellow-400 block",key:a})))),128)),(0,t._)("p",A,(0,s.zw)(e.message),1)])))),128)):((0,t.wg)(),(0,t.iD)("span",q,"Отзывов пока нет"))]),(0,t._)("div",I,[(0,t._)("form",{onSubmit:(0,n.iM)(d,["prevent"])},[(0,t.Wm)(g,{class:"mb-4",modelValue:i.rating,"onUpdate:modelValue":o[0]||(o[0]=e=>i.rating=e),count:i.rating},null,8,["modelValue","count"]),(0,t.wy)((0,t._)("textarea",{"onUpdate:modelValue":o[1]||(o[1]=e=>i.message=e),id:"textarea",class:"block w-full h-20 py-1 px-2 border-2 border-slate-200 rounded-lg resize-none mb-4 outline-none",placeholder:"Комментарий"},null,512),[[n.nr,i.message]]),(0,t._)("button",{type:"submit",class:(0,s.C_)(["py-2 px-6 bg-slate-700 rounded-xl text-white flex",[{"pointer-events-none opacity-50":!i.message||!i.rating}]])},[(0,t.Uk)(" Отправить "),a.value?((0,t.wg)(),(0,t.iD)("span",O)):(0,t.kq)("",!0)],2)],40,N)])])])])):((0,t.wg)(),(0,t.j4)(u.Z,{key:0}))}};const J=(0,v.Z)(F,[["__scopeId","data-v-4b3ea453"]]);var W=J}}]);
//# sourceMappingURL=435.5c7d8bbd.js.map